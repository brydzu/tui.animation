/*!
 * tui-animation.min.js
 * @version 1.1.0
 * @author NHNEnt FE Development Lab <dl_javascript@nhnent.com>
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("tui-code-snippet")):"function"==typeof define&&define.amd?define(["tui-code-snippet"],n):"object"==typeof exports?exports.animation=n(require("tui-code-snippet")):(e.tui=e.tui||{},e.tui.animation=n(e.tui&&e.tui.util))}(this,function(e){return function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="dist",n(0)}([function(e,n,t){"use strict";function i(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}var r=t(1),o=i(r);e.exports=o},function(e,n,t){"use strict";function i(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function r(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function o(){}function u(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function a(e){return w(e)}function c(e){e&&y(e)}function s(){var e=location,n=e.hostname;v||(v=!0,(0,m.imagePing)("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-115377265-9",cid:n,dp:n,dh:"animation"}))}function f(){function e(e,n){return function t(){var o=new Date-n,u=Math.min(1,o/v||0),s=(0,m.map)(i,function(e,n){return Q[n]*y(u)+e});O.apply(void 0,r(s)),I=a(t),u>=1&&(c(I),e(),x())}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.from,i=void 0===t?0:t,u=n.to,f=void 0===u?100:u,d=n.duration,v=void 0===d?1e3:d,w=n.easing,y=void 0===w?"linear":w,A=n.frame,O=void 0===A?o:A,h=n.complete,x=void 0===h?o:h,b=n.usageStatistics,g=void 0===b||b;i=(0,m.isArray)(i)?i:[i],f=(0,m.isArray)(f)?f:[f];var I=0,Q=(0,m.map)(i,function(e,n){return f[n]-e});return y=l[y]||l.linear,g&&s(),{run:function(){var n=new Date;return p?new Promise(function(t){return e(t,n)()}):(e(o,n)(),null)},cancel:function(){c(I)}}}n.__esModule=!0,n.requestAnimFrame=a,n.cancelAnimFrame=c,n.anim=f;var d=t(2),l=i(d),m=t(3),p="undefined"!=typeof Promise&&/\[native code\]/.test(Promise.toString()),v=!1,w=window.requestAnimationFrame||u("RequestAnimationFrame")||function(e){return window.setTimeout(e,1e3/60)},y=window.cancelAnimationFrame||u("CancelAnimationFrame")||u("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)}},function(e,n){"use strict";function t(e){return function(n){return u(n,e)}}function i(e){return function(n){return 1-o(u(n-1,e))}}function r(e){return function(n){return n<.5?t(e)(2*n)/2:i(e)(2*n-1)/2+.5}}n.__esModule=!0;var o=Math.abs,u=Math.pow,a=(n.linear=r(1),n.easeInQuad=t(2)),c=n.easeOutQuad=i(2),s=n.easeInOutQuad=r(2);n.easeIn=a,n.easeOut=c,n.easeInOut=s,n.easeInCubic=t(3),n.easeOutCubic=i(3),n.easeInOutCubic=r(3),n.easeInQuart=t(4),n.easeOutQuart=i(4),n.easeInOutQuart=r(4),n.easeInQuint=t(5),n.easeOutQuint=i(5),n.easeInOutQuint=r(5)},function(n,t){n.exports=e}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy90dWktYW5pbWF0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgODM3NTZlM2ExZjVlYjA4NjQwNzIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hbmltLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9lYXNpbmcuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJ0dWktY29kZS1zbmlwcGV0XCIsXCJjb21tb25qczJcIjpcInR1aS1jb2RlLXNuaXBwZXRcIixcImFtZFwiOlwidHVpLWNvZGUtc25pcHBldFwiLFwicm9vdFwiOltcInR1aVwiLFwidXRpbFwiXX0iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImFuaW1hdGlvbiIsInR1aSIsInV0aWwiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiZGVmYXVsdCIsIl9hbmltIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsImFycjIiLCJsZW5ndGgiLCJmcm9tIiwibm9vcCIsImdldFByZWZpeGVkIiwibmFtZSIsIndpbmRvdyIsInJlcXVlc3RBbmltRnJhbWUiLCJjYWxsYmFjayIsInJlcXVlc3RGbiIsImNhbmNlbEFuaW1GcmFtZSIsInRpbWVySWQiLCJjYW5jZWxGbiIsInNlbmRIb3N0bmFtZSIsIl9sb2NhdGlvbiIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJob3N0bmFtZVNlbnQiLCJfdHVpQ29kZVNuaXBwZXQiLCJpbWFnZVBpbmciLCJ2IiwidCIsInRpZCIsImNpZCIsImRwIiwiZGgiLCJhbmltIiwicnVubmVyIiwicmVzb2x2ZSIsInN0YXJ0IiwidGljayIsImVsYXBzZWQiLCJEYXRlIiwicHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwiZHVyYXRpb24iLCJ2YWx1ZXMiLCJtYXAiLCJ2YWwiLCJpZHgiLCJkaWZmcyIsImVhc2luZyIsImZyYW1lIiwidGltZW91dElkIiwiY29tcGxldGUiLCJfcmVmIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiX3JlZiRmcm9tIiwiX3JlZiR0byIsInRvIiwiX3JlZiRkdXJhdGlvbiIsIl9yZWYkZWFzaW5nIiwiX3JlZiRmcmFtZSIsIl9yZWYkY29tcGxldGUiLCJfcmVmJHVzYWdlU3RhdGlzdGljcyIsInVzYWdlU3RhdGlzdGljcyIsImVhc2luZ0Z1bmN0aW9ucyIsImxpbmVhciIsInJ1biIsImlzU3VwcG9ydFByb21pc2UiLCJQcm9taXNlIiwiY2FuY2VsIiwiX2Vhc2luZyIsInRlc3QiLCJ0b1N0cmluZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsIl9lYXNlSW4iLCJwb3ciLCJfZWFzZU91dCIsImFicyIsIl9lYXNlSW5PdXQiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQi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Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInR1aS1jb2RlLXNuaXBwZXRcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1widHVpLWNvZGUtc25pcHBldFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJhbmltYXRpb25cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktY29kZS1zbmlwcGV0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJ0dWlcIl0gPSByb290W1widHVpXCJdIHx8IHt9LCByb290W1widHVpXCJdW1wiYW5pbWF0aW9uXCJdID0gZmFjdG9yeShyb290W1widHVpXCJdW1widXRpbFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIvKiFcbiAqIHR1aS1hbmltYXRpb24ubWluLmpzXG4gKiBAdmVyc2lvbiAxLjEuMFxuICogQGF1dGhvciBOSE5FbnQgRkUgRGV2ZWxvcG1lbnQgTGFiIDxkbF9qYXZhc2NyaXB0QG5obmVudC5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwidHVpLWNvZGUtc25pcHBldFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJ0dWktY29kZS1zbmlwcGV0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImFuaW1hdGlvblwiXSA9IGZhY3RvcnkocmVxdWlyZShcInR1aS1jb2RlLXNuaXBwZXRcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInR1aVwiXSA9IHJvb3RbXCJ0dWlcIl0gfHwge30sIHJvb3RbXCJ0dWlcIl1bXCJhbmltYXRpb25cIl0gPSBmYWN0b3J5KChyb290W1widHVpXCJdICYmIHJvb3RbXCJ0dWlcIl1bXCJ1dGlsXCJdKSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImRpc3RcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2FuaW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIGFuaW1hdGlvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hbmltKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGFuaW1hdGlvbjsgLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAbmFtZXNwYWNlIHR1aS5hbmltYXRpb25cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRpb24gbGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2V0IE1vZHVsZTwvY2FwdGlvbj5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHZhciBhbmltYXRpb24gPSByZXF1aXJlKCd0dWktYW5pbWF0aW9uJyk7IC8vIGNvbW1vbmpzIHR5cGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHZhciBhbmltYXRpb24gPSB0dWkuYW5pbWF0aW9uOyAvLyB3aGVuIHVzaW5nIGJ1bmRsZSBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB2YXIgcnVubmVyID0gYW5pbWF0aW9uLmFuaW0oey4uLn0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yZXF1ZXN0QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1GcmFtZTtcblx0ZXhwb3J0cy5jYW5jZWxBbmltRnJhbWUgPSBjYW5jZWxBbmltRnJhbWU7XG5cdGV4cG9ydHMuYW5pbSA9IGFuaW07XG5cdFxuXHR2YXIgX2Vhc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgZWFzaW5nRnVuY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Vhc2luZyk7XG5cdFxuXHR2YXIgX3R1aUNvZGVTbmlwcGV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZmlsZW92ZXJ2aWV3IE1vZHVsZSBmb3IgYW5pbWF0aW9uc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBOSE4gRW50LiBGRSBEZXZlbG9wbWVudCB0ZWFtIDxkbF9qYXZhc2NyaXB0QG5obmVudC5jb20+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdC8qKlxuXHQgKiBAbW9kdWxlIC4vYW5pbVxuXHQgKiBAaWdub3JlXG5cdCAqIEBkZXNjcmlwdGlvbiBDb3JlIG1vZHVsZSBmb3IgYW5pbWF0aW9uXG5cdCAqL1xuXHRcblx0dmFyIGlzU3VwcG9ydFByb21pc2UgPSB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgL1xcW25hdGl2ZSBjb2RlXFxdLy50ZXN0KFByb21pc2UudG9TdHJpbmcoKSk7XG5cdHZhciBob3N0bmFtZVNlbnQgPSBmYWxzZTtcblx0XG5cdC8qKiBEbyBub3RoaW5nICovXG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0LyoqXG5cdCAqIEdldCBuYW1lIHdpdGggdmVuZG9yIHByZWZpeFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIG5hbWUgdG8gcHJlcGVuZCBwcmVmaXhcblx0ICogQHJldHVybnMge1N0cmluZ30gdmVuZG9yIHByZWZpeGVkIG5hbWVcblx0ICovXG5cdGZ1bmN0aW9uIGdldFByZWZpeGVkKG5hbWUpIHtcblx0ICAgIHJldHVybiB3aW5kb3dbJ3dlYmtpdCcgKyBuYW1lXSB8fCB3aW5kb3dbJ21veicgKyBuYW1lXSB8fCB3aW5kb3dbJ21zJyArIG5hbWVdO1xuXHR9XG5cdFxuXHR2YXIgcmVxdWVzdEZuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBnZXRQcmVmaXhlZCgnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdCAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG5cdH07XG5cdFxuXHR2YXIgY2FuY2VsRm4gPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZ2V0UHJlZml4ZWQoJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJykgfHwgZ2V0UHJlZml4ZWQoJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IGZ1bmN0aW9uICh0aW1lcklkKSB7XG5cdCAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNoaW0gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdCAqXG5cdCAqIFVzZSBgc2V0VGltZW91dGAgdHJpY2sgb24gYmVsb3cgSW50ZXJuZXQgRXhwbG9yZXIgOFxuXHQgKiBAbWV0aG9kIHJlcXVlc3RBbmltRnJhbWVcblx0ICogQG1lbWJlcm9mIHR1aS5hbmltYXRpb25cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayBmdW5jdGlvblxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSB0aW1lciBpZFxuXHQgKiBAZXhhbXBsZVxuXHQgKiB2YXIgYW5pbWF0aW9uID0gcmVxdWlyZSgndHVpLWFuaW1hdGlvbicpO1xuXHQgKiB2YXIgdGltZXJJZCA9IGFuaW1hdGlvbi5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuXHQgKiAgICQoJ2JveCcpLmNzcyhsZWZ0LCAnMTAwcHgnKTtcblx0ICogfSk7XG5cdCAqL1xuXHRmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGNhbGxiYWNrKSB7XG5cdCAgICByZXR1cm4gcmVxdWVzdEZuKGNhbGxiYWNrKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFNoaW0gb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0ICogQG1ldGhvZCBjYW5jZWxBbmltRnJhbWVcblx0ICogQG1lbWJlcm9mIHR1aS5hbmltYXRpb25cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVySWQgLSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdGltZXJJZFxuXHQgKiBAZXhhbXBsZVxuXHQgKiB2YXIgYW5pbWF0aW9uID0gcmVxdWlyZSgndHVpLWFuaW1hdGlvbicpO1xuXHQgKiB2YXIgdGltZXJJZCA9IGFuaW1hdGlvbi5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuXHQgKiAgICQoJ2JveCcpLmNzcyhsZWZ0LCAnMTAwcHgnKTtcblx0ICogfSk7XG5cdCAqIGFuaW1hdGlvbi5jYW5jZWxBbmltRnJhbWUodGltZXJJZCk7XG5cdCAqL1xuXHRmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUodGltZXJJZCkge1xuXHQgICAgaWYgKCF0aW1lcklkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbmNlbEZuKHRpbWVySWQpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc2VuZCBob3N0bmFtZVxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRmdW5jdGlvbiBzZW5kSG9zdG5hbWUoKSB7XG5cdCAgICB2YXIgX2xvY2F0aW9uID0gbG9jYXRpb24sXG5cdCAgICAgICAgaG9zdG5hbWUgPSBfbG9jYXRpb24uaG9zdG5hbWU7XG5cdFxuXHRcblx0ICAgIGlmIChob3N0bmFtZVNlbnQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBob3N0bmFtZVNlbnQgPSB0cnVlO1xuXHRcblx0ICAgICgwLCBfdHVpQ29kZVNuaXBwZXQuaW1hZ2VQaW5nKSgnaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vY29sbGVjdCcsIHtcblx0ICAgICAgICB2OiAxLFxuXHQgICAgICAgIHQ6ICdldmVudCcsXG5cdCAgICAgICAgdGlkOiAnVUEtMTE1Mzc3MjY1LTknLFxuXHQgICAgICAgIGNpZDogaG9zdG5hbWUsXG5cdCAgICAgICAgZHA6IGhvc3RuYW1lLFxuXHQgICAgICAgIGRoOiAnYW5pbWF0aW9uJ1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBHZXQgYW5pbWF0aW9uIHJ1bm5lclxuXHQgKiBAbWVtYmVyb2YgdHVpLmFuaW1hdGlvblxuXHQgKiBAbWV0aG9kIGFuaW1cblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG5cdCAqIEBwYXJhbSB7KE51bWJlcnxOdW1iZXJbXSl9IFtvcHRpb25zLmZyb209MF0gLSBiZWdpbm5pbmcgdmFsdWVzXG5cdCAqIEBwYXJhbSB7KE51bWJlcnxOdW1iZXJbXSl9IFtvcHRpb25zLnRvPTEwMF0gLSBjaGFuZ2UgaW4gdmFsdWVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbj0xMDAwXSAtIGR1cmF0aW9uIChtcylcblx0ICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZz0nbGluZWFyJ10gLSBlYXNpbmcgZnVuY3Rpb25zIHtAc2VlIGVhc2luZ31cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZnJhbWVdIC0gaW52b2tpbmcgZWFjaCBmcmFtZXMuIHlvdSBjYW4gbWFuaXB1bGF0ZSBzcGVjaWZpYyBlbGVtZW50IGJ5IHRoaXMgZnVuY3Rpb25cblx0ICogICB0aGUgYXJndW1lbnRzIHBhc3NlZCB3aXRoIHNhbWUgc2VxdWVuY2Ugd2l0aCBgZnJvbWAsIGB0b2Agb3B0aW9uIHZhbHVlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5jb21wbGV0ZV0gLSBpbnZva2VkIG9uY2UgYXQgZW5kIG9mIGFuaW1hdGlvblxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnVzYWdlU3RhdGlzdGljcz10cnVlXSAtIExldCB1cyBrbm93IHRoZSBob3N0bmFtZS4gSWYgeW91IGRvbid0IHdhbnQgdG8gc2VuZCB0aGUgaG9zdG5hbWUsIHBsZWFzZSBzZXQgdG8gZmFsc2UuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGFuaW1hdGlvbiBydW5uZXJcblx0ICogQHR1dG9yaWFsIGV4YW1wbGUwMS1iYXNpYy11c2FnZVxuXHQgKiBAdHV0b3JpYWwgZXhhbXBsZTAyLTJELW1vdmVtZW50XG5cdCAqIEB0dXRvcmlhbCBleGFtcGxlMDMtdXNpbmctcHJvbWlzZVxuXHQgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Jbml0aWFsaXplIGFuZCBSdW4gYW5pbWF0aW9uIHJ1bm5lcjwvY2FwdGlvbj5cblx0ICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTtcblx0ICogdmFyIHJ1bm5lciA9IHR1aS5hbmltYXRpb24uYW5pbSh7XG5cdCAqICAgZnJvbTogWzEsIDVdLCAgLy8gaW5pdGlhbCB4LCB5IHBvc2l0aW9uXG5cdCAqICAgdG86IFsxMDAsIDUwMF0sXG5cdCAqICAgZHVyYXRpb246IDIwMDAsXG5cdCAqICAgZWFzaW5nOiAnZWFzZUluT3V0Jyxcblx0ICogICAvLyBtYW5pcHVsYXRlIHgsIHkgcG9zaXRpb25cblx0ICogICBmcmFtZTogZnVuY3Rpb24oeCwgeSkge1xuXHQgKiAgICAgJGJveC5jc3Moe1xuXHQgKiAgICAgICBsZWZ0OiB4ICsgJ3B4Jyxcblx0ICogICAgICAgdG9wOiB5ICsgJ3B4J1xuXHQgKiAgICAgfSk7XG5cdCAqICAgfSxcblx0ICogICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdCAqICAgICAkYm94LmNzcyh7XG5cdCAqICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JlZCdcblx0ICogICAgIH0pO1xuXHQgKiAgIH1cblx0ICogfSk7XG5cdCAqXG5cdCAqIC8vIFJ1biBhbmltYXRpb25cblx0ICogcnVubmVyLnJ1bigpO1xuXHQgKlxuXHQgKiAvLyBJZiBicm93c2VyIHN1cHBvcnQgUHJvbWlzZSB0aGVuIG1ldGhvZCBgcnVuKClgIGlzIHJldHVybiBpdCwgb3RoZXJ3aXNlIGl0IHJldHVybiBgbnVsbGBcblx0ICogLy8gU28gYmVsb3cgbGluZSBoYXMgYmUgcG9zc2libGUgdGhyb3cgYW4gZXJyb3JzLiB1c2UgY2FyZWZ1bGx5XG5cdCAqIHJ1bm5lci5ydW4oKS50aGVuKGZ1bmN0aW9uKCkge2NvbnNvbGUubG9nKCdkb25lIScpO30pO1xuXHQgKi9cblx0ZnVuY3Rpb24gYW5pbSgpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcblx0ICAgICAgICBfcmVmJGZyb20gPSBfcmVmLmZyb20sXG5cdCAgICAgICAgZnJvbSA9IF9yZWYkZnJvbSA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkZnJvbSxcblx0ICAgICAgICBfcmVmJHRvID0gX3JlZi50byxcblx0ICAgICAgICB0byA9IF9yZWYkdG8gPT09IHVuZGVmaW5lZCA/IDEwMCA6IF9yZWYkdG8sXG5cdCAgICAgICAgX3JlZiRkdXJhdGlvbiA9IF9yZWYuZHVyYXRpb24sXG5cdCAgICAgICAgZHVyYXRpb24gPSBfcmVmJGR1cmF0aW9uID09PSB1bmRlZmluZWQgPyAxMDAwIDogX3JlZiRkdXJhdGlvbixcblx0ICAgICAgICBfcmVmJGVhc2luZyA9IF9yZWYuZWFzaW5nLFxuXHQgICAgICAgIGVhc2luZyA9IF9yZWYkZWFzaW5nID09PSB1bmRlZmluZWQgPyAnbGluZWFyJyA6IF9yZWYkZWFzaW5nLFxuXHQgICAgICAgIF9yZWYkZnJhbWUgPSBfcmVmLmZyYW1lLFxuXHQgICAgICAgIGZyYW1lID0gX3JlZiRmcmFtZSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IF9yZWYkZnJhbWUsXG5cdCAgICAgICAgX3JlZiRjb21wbGV0ZSA9IF9yZWYuY29tcGxldGUsXG5cdCAgICAgICAgY29tcGxldGUgPSBfcmVmJGNvbXBsZXRlID09PSB1bmRlZmluZWQgPyBub29wIDogX3JlZiRjb21wbGV0ZSxcblx0ICAgICAgICBfcmVmJHVzYWdlU3RhdGlzdGljcyA9IF9yZWYudXNhZ2VTdGF0aXN0aWNzLFxuXHQgICAgICAgIHVzYWdlU3RhdGlzdGljcyA9IF9yZWYkdXNhZ2VTdGF0aXN0aWNzID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiR1c2FnZVN0YXRpc3RpY3M7XG5cdFxuXHQgICAgZnJvbSA9ICgwLCBfdHVpQ29kZVNuaXBwZXQuaXNBcnJheSkoZnJvbSkgPyBmcm9tIDogW2Zyb21dO1xuXHQgICAgdG8gPSAoMCwgX3R1aUNvZGVTbmlwcGV0LmlzQXJyYXkpKHRvKSA/IHRvIDogW3RvXTtcblx0XG5cdCAgICB2YXIgdGltZW91dElkID0gMDtcblx0ICAgIHZhciBkaWZmcyA9ICgwLCBfdHVpQ29kZVNuaXBwZXQubWFwKShmcm9tLCBmdW5jdGlvbiAodmFsLCBpZHgpIHtcblx0ICAgICAgICByZXR1cm4gdG9baWR4XSAtIHZhbDtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGVhc2luZyA9IGVhc2luZ0Z1bmN0aW9uc1tlYXNpbmddIHx8IGVhc2luZ0Z1bmN0aW9ucy5saW5lYXI7XG5cdFxuXHQgICAgaWYgKHVzYWdlU3RhdGlzdGljcykge1xuXHQgICAgICAgIHNlbmRIb3N0bmFtZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0IGFuaW1hdGlvbiBydW5uZXIgb2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlIC0gcmVzb2x2ZSBmcm9tIHByb21pc2Vcblx0ICAgICAqIEBwYXJhbSB7RGF0ZX0gc3RhcnQgLSB0aW1lIG9mIGFuaW1hdGlvbiBzdGFydFxuXHQgICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBydW5uZXIocmVzb2x2ZSwgc3RhcnQpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGljaygpIHtcblx0ICAgICAgICAgICAgdmFyIGVsYXBzZWQgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7XG5cdCAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IE1hdGgubWluKDEsIGVsYXBzZWQgLyBkdXJhdGlvbiB8fCAwKTtcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9ICgwLCBfdHVpQ29kZVNuaXBwZXQubWFwKShmcm9tLCBmdW5jdGlvbiAodmFsLCBpZHgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkaWZmc1tpZHhdICogZWFzaW5nKHByb2dyZXNzKSArIHZhbDtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBmcmFtZS5hcHBseSh1bmRlZmluZWQsIF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKTtcblx0ICAgICAgICAgICAgdGltZW91dElkID0gcmVxdWVzdEFuaW1GcmFtZSh0aWNrKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSB7XG5cdCAgICAgICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIWlzU3VwcG9ydFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIHJ1bm5lcihub29wLCBzdGFydCkoKTtcblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcnVubmVyKHJlc29sdmUsIHN0YXJ0KSgpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgRWFzaW5nIGZvbXVsYXJzXG5cdCAqIEBhdXRob3IgTkhOIEVudC4gRkUgRGV2ZWxvcG1lbnQgdGVhbSA8ZGxfamF2YXNjcmlwdEBuaG5lbnQuY29tPlxuXHQgKi9cblx0XG5cdHZhciBhYnMgPSBNYXRoLmFicyxcblx0ICAgIHBvdyA9IE1hdGgucG93O1xuXHRcblx0LyoqXG5cdCAqIEBtb2R1bGUgLi9lYXNpbmdcblx0ICogQGlnbm9yZVxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogRWFzaW5nIGZvbXVsYXJzIGFyZSBiYXNlZCBvbiBHYcOrdGFuIFJlbmF1ZGVhdSBhbmQgSm9oYW4gTGluZGVsbCdzIGdpc3Rcblx0ICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ3JlLzE2NTAyOTRcblx0ICovXG5cdFxuXHQvKipcblx0ICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1pblxuXHQgKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3Jcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIF9lYXNlSW4ocCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAodCkge1xuXHQgICAgcmV0dXJuIHBvdyh0LCBwKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1vdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHAgLSBmb3IgdXNpbmcgYHBvdyhwKWAgdG8gY2FsY3VsYXRlIGFjY2VsZXJhdGUgZmFjdG9yXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdGZ1bmN0aW9uIF9lYXNlT3V0KHApIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcblx0ICAgIHJldHVybiAxIC0gYWJzKHBvdyh0IC0gMSwgcCkpO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBIaWdoIG9yZGVyIGZ1bmN0aW9uIGZvciBlYXNlLWluLW91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3Jcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0ZnVuY3Rpb24gX2Vhc2VJbk91dChwKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG5cdCAgICByZXR1cm4gdCA8IDAuNSA/IF9lYXNlSW4ocCkodCAqIDIpIC8gMiA6IF9lYXNlT3V0KHApKHQgKiAyIC0gMSkgLyAyICsgMC41O1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBubyBlYXNpbmcsIG5vIGFjY2VsZXJhdGlvblxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgbGluZWFyID0gZXhwb3J0cy5saW5lYXIgPSBfZWFzZUluT3V0KDEpO1xuXHQvKipcblx0ICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluUXVhZCA9IGV4cG9ydHMuZWFzZUluUXVhZCA9IF9lYXNlSW4oMik7XG5cdC8qKlxuXHQgKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZU91dFF1YWQgPSBleHBvcnRzLmVhc2VPdXRRdWFkID0gX2Vhc2VPdXQoMik7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dFF1YWQgPSBleHBvcnRzLmVhc2VJbk91dFF1YWQgPSBfZWFzZUluT3V0KDIpO1xuXHRcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbiA9IGV4cG9ydHMuZWFzZUluID0gZWFzZUluUXVhZDtcblx0LyoqXG5cdCAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlT3V0ID0gZXhwb3J0cy5lYXNlT3V0ID0gZWFzZU91dFF1YWQ7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dCA9IGV4cG9ydHMuZWFzZUluT3V0ID0gZWFzZUluT3V0UXVhZDtcblx0XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlSW5DdWJpYyA9IGV4cG9ydHMuZWFzZUluQ3ViaWMgPSBfZWFzZUluKDMpO1xuXHQvKipcblx0ICogZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VPdXRDdWJpYyA9IGV4cG9ydHMuZWFzZU91dEN1YmljID0gX2Vhc2VPdXQoMyk7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dEN1YmljID0gZXhwb3J0cy5lYXNlSW5PdXRDdWJpYyA9IF9lYXNlSW5PdXQoMyk7XG5cdFxuXHQvKipcblx0ICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluUXVhcnQgPSBleHBvcnRzLmVhc2VJblF1YXJ0ID0gX2Vhc2VJbig0KTtcblx0LyoqXG5cdCAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlT3V0UXVhcnQgPSBleHBvcnRzLmVhc2VPdXRRdWFydCA9IF9lYXNlT3V0KDQpO1xuXHQvKipcblx0ICogYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlSW5PdXRRdWFydCA9IGV4cG9ydHMuZWFzZUluT3V0UXVhcnQgPSBfZWFzZUluT3V0KDQpO1xuXHRcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJblF1aW50ID0gZXhwb3J0cy5lYXNlSW5RdWludCA9IF9lYXNlSW4oNSk7XG5cdC8qKlxuXHQgKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZU91dFF1aW50ID0gZXhwb3J0cy5lYXNlT3V0UXVpbnQgPSBfZWFzZU91dCg1KTtcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluT3V0UXVpbnQgPSBleHBvcnRzLmVhc2VJbk91dFF1aW50ID0gX2Vhc2VJbk91dCg1KTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdHVpLWFuaW1hdGlvbi5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJkaXN0XCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgODM3NTZlM2ExZjVlYjA4NjQwNzIiLCIvKipcbiAqIEBuYW1lc3BhY2UgdHVpLmFuaW1hdGlvblxuICogQGRlc2NyaXB0aW9uIEFuaW1hdGlvbiBsaWJyYXJ5XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5HZXQgTW9kdWxlPC9jYXB0aW9uPlxuICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTsgLy8gY29tbW9uanMgdHlwZVxuICogdmFyIGFuaW1hdGlvbiA9IHR1aS5hbmltYXRpb247IC8vIHdoZW4gdXNpbmcgYnVuZGxlIGZpbGVcbiAqIHZhciBydW5uZXIgPSBhbmltYXRpb24uYW5pbSh7Li4ufSk7XG4gKiB9KTtcbiAqL1xuaW1wb3J0ICogYXMgYW5pbWF0aW9uIGZyb20gJy4vYW5pbSc7XG5cbm1vZHVsZS5leHBvcnRzID0gYW5pbWF0aW9uO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2luZGV4LmpzIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1vZHVsZSBmb3IgYW5pbWF0aW9uc1xuICogQGF1dGhvciBOSE4gRW50LiBGRSBEZXZlbG9wbWVudCB0ZWFtIDxkbF9qYXZhc2NyaXB0QG5obmVudC5jb20+XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIC4vYW5pbVxuICogQGlnbm9yZVxuICogQGRlc2NyaXB0aW9uIENvcmUgbW9kdWxlIGZvciBhbmltYXRpb25cbiAqL1xuXG5pbXBvcnQgKiBhcyBlYXNpbmdGdW5jdGlvbnMgZnJvbSAnLi9lYXNpbmcnO1xuaW1wb3J0IHtpbWFnZVBpbmcsIGlzQXJyYXksIG1hcH0gZnJvbSAndHVpLWNvZGUtc25pcHBldCc7XG5cbmNvbnN0IGlzU3VwcG9ydFByb21pc2UgPSAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICgvXFxbbmF0aXZlIGNvZGVcXF0vLnRlc3QoUHJvbWlzZS50b1N0cmluZygpKSk7XG5sZXQgaG9zdG5hbWVTZW50ID0gZmFsc2U7XG5cbi8qKiBEbyBub3RoaW5nICovXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBHZXQgbmFtZSB3aXRoIHZlbmRvciBwcmVmaXhcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gbmFtZSB0byBwcmVwZW5kIHByZWZpeFxuICogQHJldHVybnMge1N0cmluZ30gdmVuZG9yIHByZWZpeGVkIG5hbWVcbiAqL1xuZnVuY3Rpb24gZ2V0UHJlZml4ZWQobmFtZSkge1xuICAgIHJldHVybiB3aW5kb3dbYHdlYmtpdCR7bmFtZX1gXSB8fCB3aW5kb3dbYG1veiR7bmFtZX1gXSB8fCB3aW5kb3dbYG1zJHtuYW1lfWBdO1xufVxuXG5jb25zdCByZXF1ZXN0Rm4gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZ2V0UHJlZml4ZWQoJ1JlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8XG4gICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgIH07XG5cbmNvbnN0IGNhbmNlbEZuID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZ2V0UHJlZml4ZWQoJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBnZXRQcmVmaXhlZCgnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBmdW5jdGlvbih0aW1lcklkKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfTtcblxuLyoqXG4gKiBTaGltIG9mIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICpcbiAqIFVzZSBgc2V0VGltZW91dGAgdHJpY2sgb24gYmVsb3cgSW50ZXJuZXQgRXhwbG9yZXIgOFxuICogQG1ldGhvZCByZXF1ZXN0QW5pbUZyYW1lXG4gKiBAbWVtYmVyb2YgdHVpLmFuaW1hdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge051bWJlcn0gdGltZXIgaWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgYW5pbWF0aW9uID0gcmVxdWlyZSgndHVpLWFuaW1hdGlvbicpO1xuICogdmFyIHRpbWVySWQgPSBhbmltYXRpb24ucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpIHtcbiAqICAgJCgnYm94JykuY3NzKGxlZnQsICcxMDBweCcpO1xuICogfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHJlcXVlc3RGbihjYWxsYmFjayk7XG59XG5cbi8qKlxuICogU2hpbSBvZiBjYW5jZWxBbmltYXRpb25GcmFtZVxuICogQG1ldGhvZCBjYW5jZWxBbmltRnJhbWVcbiAqIEBtZW1iZXJvZiB0dWkuYW5pbWF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZXJJZCAtIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0aW1lcklkXG4gKiBAZXhhbXBsZVxuICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTtcbiAqIHZhciB0aW1lcklkID0gYW5pbWF0aW9uLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKSB7XG4gKiAgICQoJ2JveCcpLmNzcyhsZWZ0LCAnMTAwcHgnKTtcbiAqIH0pO1xuICogYW5pbWF0aW9uLmNhbmNlbEFuaW1GcmFtZSh0aW1lcklkKTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZSh0aW1lcklkKSB7XG4gICAgaWYgKCF0aW1lcklkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYW5jZWxGbih0aW1lcklkKTtcbn1cblxuLyoqXG4gKiBzZW5kIGhvc3RuYW1lXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIHNlbmRIb3N0bmFtZSgpIHtcbiAgICBjb25zdCB7aG9zdG5hbWV9ID0gbG9jYXRpb247XG5cbiAgICBpZiAoaG9zdG5hbWVTZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaG9zdG5hbWVTZW50ID0gdHJ1ZTtcblxuICAgIGltYWdlUGluZygnaHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vY29sbGVjdCcsIHtcbiAgICAgICAgdjogMSxcbiAgICAgICAgdDogJ2V2ZW50JyxcbiAgICAgICAgdGlkOiAnVUEtMTE1Mzc3MjY1LTknLFxuICAgICAgICBjaWQ6IGhvc3RuYW1lLFxuICAgICAgICBkcDogaG9zdG5hbWUsXG4gICAgICAgIGRoOiAnYW5pbWF0aW9uJ1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEdldCBhbmltYXRpb24gcnVubmVyXG4gKiBAbWVtYmVyb2YgdHVpLmFuaW1hdGlvblxuICogQG1ldGhvZCBhbmltXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7KE51bWJlcnxOdW1iZXJbXSl9IFtvcHRpb25zLmZyb209MF0gLSBiZWdpbm5pbmcgdmFsdWVzXG4gKiBAcGFyYW0geyhOdW1iZXJ8TnVtYmVyW10pfSBbb3B0aW9ucy50bz0xMDBdIC0gY2hhbmdlIGluIHZhbHVlc1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTEwMDBdIC0gZHVyYXRpb24gKG1zKVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZz0nbGluZWFyJ10gLSBlYXNpbmcgZnVuY3Rpb25zIHtAc2VlIGVhc2luZ31cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZyYW1lXSAtIGludm9raW5nIGVhY2ggZnJhbWVzLiB5b3UgY2FuIG1hbmlwdWxhdGUgc3BlY2lmaWMgZWxlbWVudCBieSB0aGlzIGZ1bmN0aW9uXG4gKiAgIHRoZSBhcmd1bWVudHMgcGFzc2VkIHdpdGggc2FtZSBzZXF1ZW5jZSB3aXRoIGBmcm9tYCwgYHRvYCBvcHRpb24gdmFsdWVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5jb21wbGV0ZV0gLSBpbnZva2VkIG9uY2UgYXQgZW5kIG9mIGFuaW1hdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy51c2FnZVN0YXRpc3RpY3M9dHJ1ZV0gLSBMZXQgdXMga25vdyB0aGUgaG9zdG5hbWUuIElmIHlvdSBkb24ndCB3YW50IHRvIHNlbmQgdGhlIGhvc3RuYW1lLCBwbGVhc2Ugc2V0IHRvIGZhbHNlLlxuICogQHJldHVybnMge09iamVjdH0gYW5pbWF0aW9uIHJ1bm5lclxuICogQHR1dG9yaWFsIGV4YW1wbGUwMS1iYXNpYy11c2FnZVxuICogQHR1dG9yaWFsIGV4YW1wbGUwMi0yRC1tb3ZlbWVudFxuICogQHR1dG9yaWFsIGV4YW1wbGUwMy11c2luZy1wcm9taXNlXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Jbml0aWFsaXplIGFuZCBSdW4gYW5pbWF0aW9uIHJ1bm5lcjwvY2FwdGlvbj5cbiAqIHZhciBhbmltYXRpb24gPSByZXF1aXJlKCd0dWktYW5pbWF0aW9uJyk7XG4gKiB2YXIgcnVubmVyID0gdHVpLmFuaW1hdGlvbi5hbmltKHtcbiAqICAgZnJvbTogWzEsIDVdLCAgLy8gaW5pdGlhbCB4LCB5IHBvc2l0aW9uXG4gKiAgIHRvOiBbMTAwLCA1MDBdLFxuICogICBkdXJhdGlvbjogMjAwMCxcbiAqICAgZWFzaW5nOiAnZWFzZUluT3V0JyxcbiAqICAgLy8gbWFuaXB1bGF0ZSB4LCB5IHBvc2l0aW9uXG4gKiAgIGZyYW1lOiBmdW5jdGlvbih4LCB5KSB7XG4gKiAgICAgJGJveC5jc3Moe1xuICogICAgICAgbGVmdDogeCArICdweCcsXG4gKiAgICAgICB0b3A6IHkgKyAncHgnXG4gKiAgICAgfSk7XG4gKiAgIH0sXG4gKiAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAqICAgICAkYm94LmNzcyh7XG4gKiAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZWQnXG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIC8vIFJ1biBhbmltYXRpb25cbiAqIHJ1bm5lci5ydW4oKTtcbiAqXG4gKiAvLyBJZiBicm93c2VyIHN1cHBvcnQgUHJvbWlzZSB0aGVuIG1ldGhvZCBgcnVuKClgIGlzIHJldHVybiBpdCwgb3RoZXJ3aXNlIGl0IHJldHVybiBgbnVsbGBcbiAqIC8vIFNvIGJlbG93IGxpbmUgaGFzIGJlIHBvc3NpYmxlIHRocm93IGFuIGVycm9ycy4gdXNlIGNhcmVmdWxseVxuICogcnVubmVyLnJ1bigpLnRoZW4oZnVuY3Rpb24oKSB7Y29uc29sZS5sb2coJ2RvbmUhJyk7fSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmltKHtcbiAgICBmcm9tID0gMCxcbiAgICB0byA9IDEwMCxcbiAgICBkdXJhdGlvbiA9IDEwMDAsXG4gICAgZWFzaW5nID0gJ2xpbmVhcicsXG4gICAgZnJhbWUgPSBub29wLFxuICAgIGNvbXBsZXRlID0gbm9vcCxcbiAgICB1c2FnZVN0YXRpc3RpY3MgPSB0cnVlXG59ID0ge30pIHtcbiAgICBmcm9tID0gaXNBcnJheShmcm9tKSA/IGZyb20gOiBbZnJvbV07XG4gICAgdG8gPSBpc0FycmF5KHRvKSA/IHRvIDogW3RvXTtcblxuICAgIGxldCB0aW1lb3V0SWQgPSAwO1xuICAgIGNvbnN0IGRpZmZzID0gbWFwKGZyb20sICh2YWwsIGlkeCkgPT4gdG9baWR4XSAtIHZhbCk7XG5cbiAgICBlYXNpbmcgPSBlYXNpbmdGdW5jdGlvbnNbZWFzaW5nXSB8fCBlYXNpbmdGdW5jdGlvbnMubGluZWFyO1xuXG4gICAgaWYgKHVzYWdlU3RhdGlzdGljcykge1xuICAgICAgICBzZW5kSG9zdG5hbWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW5pbWF0aW9uIHJ1bm5lciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlIC0gcmVzb2x2ZSBmcm9tIHByb21pc2VcbiAgICAgKiBAcGFyYW0ge0RhdGV9IHN0YXJ0IC0gdGltZSBvZiBhbmltYXRpb24gc3RhcnRcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgZnVuY3Rpb24gcnVubmVyKHJlc29sdmUsIHN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IChuZXcgRGF0ZSgpKSAtIHN0YXJ0O1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbigxLCAoZWxhcHNlZCAvIGR1cmF0aW9uKSB8fCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG1hcChmcm9tLCAodmFsLCBpZHgpID0+IChkaWZmc1tpZHhdICogZWFzaW5nKHByb2dyZXNzKSkgKyB2YWwpO1xuXG4gICAgICAgICAgICBmcmFtZSguLi52YWx1ZXMpO1xuICAgICAgICAgICAgdGltZW91dElkID0gcmVxdWVzdEFuaW1GcmFtZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBydW4oKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICghaXNTdXBwb3J0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJ1bm5lcihub29wLCBzdGFydCkoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBydW5uZXIocmVzb2x2ZSwgc3RhcnQpKCkpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvYW5pbS5qcyIsIi8qKlxuICogQGZpbGVvdmVydmlldyBFYXNpbmcgZm9tdWxhcnNcbiAqIEBhdXRob3IgTkhOIEVudC4gRkUgRGV2ZWxvcG1lbnQgdGVhbSA8ZGxfamF2YXNjcmlwdEBuaG5lbnQuY29tPlxuICovXG5cbmNvbnN0IHthYnMsIHBvd30gPSBNYXRoO1xuXG4vKipcbiAqIEBtb2R1bGUgLi9lYXNpbmdcbiAqIEBpZ25vcmVcbiAqIEBkZXNjcmlwdGlvblxuICogRWFzaW5nIGZvbXVsYXJzIGFyZSBiYXNlZCBvbiBHYcOrdGFuIFJlbmF1ZGVhdSBhbmQgSm9oYW4gTGluZGVsbCdzIGdpc3RcbiAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2dyZS8xNjUwMjk0XG4gKi9cblxuLyoqXG4gKiBIaWdoIG9yZGVyIGZ1bmN0aW9uIGZvciBlYXNlLWluXG4gKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3JcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gX2Vhc2VJbihwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHBvdyh0LCBwKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEhpZ2ggb3JkZXIgZnVuY3Rpb24gZm9yIGVhc2Utb3V0XG4gKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3JcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gX2Vhc2VPdXQocCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiAxIC0gYWJzKHBvdyh0IC0gMSwgcCkpO1xuICAgIH07XG59XG5cbi8qKlxuICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1pbi1vdXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBwIC0gZm9yIHVzaW5nIGBwb3cocClgIHRvIGNhbGN1bGF0ZSBhY2NlbGVyYXRlIGZhY3RvclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBfZWFzZUluT3V0KHApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdCA8IDAuNSA/IF9lYXNlSW4ocCkodCAqIDIpIC8gMiA6IChfZWFzZU91dChwKSgodCAqIDIpIC0gMSkgLyAyKSArIDAuNTtcbiAgICB9O1xufVxuXG4vKipcbiAqIG5vIGVhc2luZywgbm8gYWNjZWxlcmF0aW9uXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGxpbmVhciA9IF9lYXNlSW5PdXQoMSk7XG4vKipcbiAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluUXVhZCA9IF9lYXNlSW4oMik7XG4vKipcbiAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VPdXRRdWFkID0gX2Vhc2VPdXQoMik7XG4vKipcbiAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRRdWFkID0gX2Vhc2VJbk91dCgyKTtcblxuLyoqXG4gKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJbiA9IGVhc2VJblF1YWQ7XG4vKipcbiAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VPdXQgPSBlYXNlT3V0UXVhZDtcbi8qKlxuICogYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJbk91dCA9IGVhc2VJbk91dFF1YWQ7XG5cbi8qKlxuICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5DdWJpYyA9IF9lYXNlSW4oMyk7XG4vKipcbiAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VPdXRDdWJpYyA9IF9lYXNlT3V0KDMpO1xuLyoqXG4gKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluT3V0Q3ViaWMgPSBfZWFzZUluT3V0KDMpO1xuXG4vKipcbiAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluUXVhcnQgPSBfZWFzZUluKDQpO1xuLyoqXG4gKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlT3V0UXVhcnQgPSBfZWFzZU91dCg0KTtcbi8qKlxuICogYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJbk91dFF1YXJ0ID0gX2Vhc2VJbk91dCg0KTtcblxuLyoqXG4gKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJblF1aW50ID0gX2Vhc2VJbig1KTtcbi8qKlxuICogZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZU91dFF1aW50ID0gX2Vhc2VPdXQoNSk7XG4vKipcbiAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRRdWludCA9IF9lYXNlSW5PdXQoNSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvZWFzaW5nLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qc1wiOlwidHVpLWNvZGUtc25pcHBldFwiLFwiY29tbW9uanMyXCI6XCJ0dWktY29kZS1zbmlwcGV0XCIsXCJhbWRcIjpcInR1aS1jb2RlLXNuaXBwZXRcIixcInJvb3RcIjpbXCJ0dWlcIixcInV0aWxcIl19XG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=