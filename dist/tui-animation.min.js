/*!
 * tui-animation.min.js
 * @version 0.2.0
 * @author NHNEnt FE Development Lab <dl_javascript@nhnent.com>
 * @license MIT
 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("tui-code-snippet")):"function"==typeof define&&define.amd?define(["tui-code-snippet"],n):"object"==typeof exports?exports.animation=n(require("tui-code-snippet")):(e.tui=e.tui||{},e.tui.animation=n(e.tui&&e.tui.util))}(this,function(e){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="dist",n(0)}([function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}n.__esModule=!0;var i=t(1),u=r(i);n.default=u},function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function u(){}function o(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function a(e){return p(e)}function c(e){e&&v(e)}function s(){function e(e,n){return function t(){var u=new Date-n,o=Math.min(1,u/p||0),s=(0,l.map)(r,function(e,n){return I[n]*w(o)+e});O.apply(void 0,i(s)),x=a(t),o>=1&&(c(x),e(),b())}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.from,r=void 0===t?0:t,o=n.to,s=void 0===o?100:o,f=n.duration,p=void 0===f?1e3:f,v=n.easing,w=void 0===v?"linear":v,y=n.frame,O=void 0===y?u:y,A=n.complete,b=void 0===A?u:A;r=(0,l.isArray)(r)?r:[r],s=(0,l.isArray)(s)?s:[s];var x=0,I=(0,l.map)(r,function(e,n){return s[n]-e});return w=d[w]||d.linear,{run:function(){var n=new Date;return m?new Promise(function(t){return e(t,n)()}):(e(u,n)(),null)},cancel:function(){c(x)}}}n.__esModule=!0,n.requestAnimFrame=a,n.cancelAnimFrame=c,n.anim=s;var f=t(2),d=r(f),l=t(3),m="undefined"!=typeof Promise&&/\[native code\]/.test(Promise.toString()),p=window.requestAnimationFrame||o("RequestAnimationFrame")||function(e){return window.setTimeout(e,1e3/60)},v=window.cancelAnimationFrame||o("CancelAnimationFrame")||o("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)}},function(e,n){"use strict";function t(e){return function(n){return o(n,e)}}function r(e){return function(n){return 1-u(o(n-1,e))}}function i(e){return function(n){return n<.5?t(e)(2*n)/2:r(e)(2*n-1)/2+.5}}n.__esModule=!0;var u=Math.abs,o=Math.pow,a=(n.linear=i(1),n.easeInQuad=t(2)),c=n.easeOutQuad=r(2),s=n.easeInOutQuad=i(2);n.easeIn=a,n.easeOut=c,n.easeInOut=s,n.easeInCubic=t(3),n.easeOutCubic=r(3),n.easeInOutCubic=i(3),n.easeInQuart=t(4),n.easeOutQuart=r(4),n.easeInOutQuart=i(4),n.easeInQuint=t(5),n.easeOutQuint=r(5),n.easeInOutQuint=i(5)},function(n,t){n.exports=e}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy90dWktYW5pbWF0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgY2JjZTA0NGNmNGRjNWFiZWVkZTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hbmltLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9lYXNpbmcuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJ0dWktY29kZS1zbmlwcGV0XCIsXCJjb21tb25qczJcIjpcInR1aS1jb2RlLXNuaXBwZXRcIixcImFtZFwiOlwidHVpLWNvZGUtc25pcHBldFwiLFwicm9vdFwiOltcInR1aVwiLFwidXRpbFwiXX0iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImFuaW1hdGlvbiIsInR1aSIsInV0aWwiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiZGVmYXVsdCIsIl9hbmltIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsImFycjIiLCJsZW5ndGgiLCJmcm9tIiwibm9vcCIsImdldFByZWZpeGVkIiwibmFtZSIsIndpbmRvdyIsInJlcXVlc3RBbmltRnJhbWUiLCJjYWxsYmFjayIsInJlcXVlc3RGbiIsImNhbmNlbEFuaW1GcmFtZSIsInRpbWVySWQiLCJjYW5jZWxGbiIsImFuaW0iLCJydW5uZXIiLCJyZXNvbHZlIiwic3RhcnQiLCJ0aWNrIiwiZWxhcHNlZCIsIkRhdGUiLCJwcm9ncmVzcyIsIk1hdGgiLCJtaW4iLCJkdXJhdGlvbiIsInZhbHVlcyIsIl90dWlDb2RlU25pcHBldCIsIm1hcCIsInZhbCIsImlkeCIsImRpZmZzIiwiZWFzaW5nIiwiZnJhbWUiLCJ0aW1lb3V0SWQiLCJjb21wbGV0ZSIsIl9yZWYiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfcmVmJGZyb20iLCJfcmVmJHRvIiwidG8iLCJfcmVmJGR1cmF0aW9uIiwiX3JlZiRlYXNpbmciLCJfcmVmJGZyYW1lIiwiX3JlZiRjb21wbGV0ZSIsImVhc2luZ0Z1bmN0aW9ucyIsImxpbmVhciIsInJ1biIsImlzU3VwcG9ydFByb21pc2UiLCJQcm9taXNlIiwiY2FuY2VsIiwiX2Vhc2luZyIsInRlc3QiLCJ0b1N0cmluZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsIl9lYXNlSW4iLCJ0IiwicG93IiwiX2Vhc2VPdXQiLCJhYnMiLCJfZWFzZUluT3V0IiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbiIsImVhc2VPdXQiLCJlYXNlSW5PdXQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiXSwibWFwcGluZ3MiOiI7Ozs7OztDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELEVBQUFHLFFBQUEscUJBQ0Esa0JBQUFDLGdCQUFBQyxJQUNBRCxRQUFBLG9CQUFB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QUlELEVBQUksRUFBRzFFLEtBU2xDLFFBQVM4RSxHQUFXOUUsR0FDaEIsTUFBTyxVQUFTMEUsR0FDWixNQUFPQSxHQUFJLEdBQU1ELEVBQVF6RSxHQUFPLEVBQUowRSxHQUFTLEVBQUtFLEVBQVM1RSxHQUFRLEVBQUowRSxFQUFTLEdBQUssRUFBSyxJSndQakY3RixFQUFRc0IsYUFNUixJSXJTTTBFLEdBQVl4QyxLQUFad0MsSUFBS0YsRUFBT3RDLEtBQVBzQyxJQXdEQ0ksR0FQQWxCLFNBQVNpQixFQUFXLEdBT3BCQyxhQUFhTixFQUFRLElBT3JCTyxnQkFBY0osRUFBUyxHQU92Qkssa0JBQWdCSCxFQUFXLEVBUTNCSSxVQUFTSCxFQU9USSxVQUFVSCxFQU9WSSxZQUFZSCxFQVFaSSxjQUFjWixFQUFRLEdBT3RCYSxlQUFlVixFQUFTLEdBT3hCVyxpQkFBaUJULEVBQVcsR0FRNUJVLGNBQWNmLEVBQVEsR0FPdEJnQixlQUFlYixFQUFTLEdBT3hCYyxpQkFBaUJaLEVBQVcsR0FRNUJhLGNBQWNsQixFQUFRLEdBT3RCbUIsZUFBZWhCLEVBQVMsR0FPeEJpQixpQkFBaUJmLEVBQVcsSUoyU25DLFNBQVVoRyxFQUFRRCxHSzljeEJDLEVBQUFELFFBQUFTIiwiZmlsZSI6InR1aS1hbmltYXRpb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwidHVpLWNvZGUtc25pcHBldFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJ0dWktY29kZS1zbmlwcGV0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImFuaW1hdGlvblwiXSA9IGZhY3RvcnkocmVxdWlyZShcInR1aS1jb2RlLXNuaXBwZXRcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInR1aVwiXSA9IHJvb3RbXCJ0dWlcIl0gfHwge30sIHJvb3RbXCJ0dWlcIl1bXCJhbmltYXRpb25cIl0gPSBmYWN0b3J5KHJvb3RbXCJ0dWlcIl1bXCJ1dGlsXCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIi8qIVxuICogdHVpLWFuaW1hdGlvbi5taW4uanNcbiAqIEB2ZXJzaW9uIDAuMi4wXG4gKiBAYXV0aG9yIE5ITkVudCBGRSBEZXZlbG9wbWVudCBMYWIgPGRsX2phdmFzY3JpcHRAbmhuZW50LmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ0dWktY29kZS1zbmlwcGV0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInR1aS1jb2RlLXNuaXBwZXRcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYW5pbWF0aW9uXCJdID0gZmFjdG9yeShyZXF1aXJlKFwidHVpLWNvZGUtc25pcHBldFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1widHVpXCJdID0gcm9vdFtcInR1aVwiXSB8fCB7fSwgcm9vdFtcInR1aVwiXVtcImFuaW1hdGlvblwiXSA9IGZhY3RvcnkoKHJvb3RbXCJ0dWlcIl0gJiYgcm9vdFtcInR1aVwiXVtcInV0aWxcIl0pKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiZGlzdFwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2FuaW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIGFuaW1hdGlvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hbmltKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBhbmltYXRpb247IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuYW1lc3BhY2UgdHVpLmFuaW1hdGlvblxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBBbmltYXRpb24gbGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdldCBNb2R1bGU8L2NhcHRpb24+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTsgLy8gY29tbW9uanMgdHlwZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHZhciBhbmltYXRpb24gPSB0dWkuYW5pbWF0aW9uOyAvLyB3aGVuIHVzaW5nIGJ1bmRsZSBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdmFyIHJ1bm5lciA9IGFuaW1hdGlvbi5hbmltKHsuLi59KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yZXF1ZXN0QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1GcmFtZTtcblx0ZXhwb3J0cy5jYW5jZWxBbmltRnJhbWUgPSBjYW5jZWxBbmltRnJhbWU7XG5cdGV4cG9ydHMuYW5pbSA9IGFuaW07XG5cdFxuXHR2YXIgX2Vhc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgZWFzaW5nRnVuY3Rpb25zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Vhc2luZyk7XG5cdFxuXHR2YXIgX3R1aUNvZGVTbmlwcGV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmpbJ2RlZmF1bHQnXSA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZmlsZW92ZXJ2aWV3IE1vZHVsZSBmb3IgYW5pbWF0aW9uc1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGF1dGhvciBOSE4gRW50LiBGRSBEZXZlbG9wbWVudCB0ZWFtIDxkbF9qYXZhc2NyaXB0QG5obmVudC5jb20+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdC8qKlxuXHQgKiBAbW9kdWxlIC4vYW5pbVxuXHQgKiBAaWdub3JlXG5cdCAqIEBkZXNjcmlwdGlvbiBDb3JlIG1vZHVsZSBmb3IgYW5pbWF0aW9uXG5cdCAqL1xuXHRcblx0dmFyIGlzU3VwcG9ydFByb21pc2UgPSB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgL1xcW25hdGl2ZSBjb2RlXFxdLy50ZXN0KFByb21pc2UudG9TdHJpbmcoKSk7XG5cdFxuXHQvKiogRG8gbm90aGluZyAqL1xuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdC8qKlxuXHQgKiBHZXQgbmFtZSB3aXRoIHZlbmRvciBwcmVmaXhcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBuYW1lIHRvIHByZXBlbmQgcHJlZml4XG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHZlbmRvciBwcmVmaXhlZCBuYW1lXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7XG5cdCAgICByZXR1cm4gd2luZG93Wyd3ZWJraXQnICsgbmFtZV0gfHwgd2luZG93Wydtb3onICsgbmFtZV0gfHwgd2luZG93WydtcycgKyBuYW1lXTtcblx0fVxuXHRcblx0dmFyIHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZ2V0UHJlZml4ZWQoJ1JlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHQgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuXHR9O1xuXHRcblx0dmFyIGNhbmNlbEZuID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGdldFByZWZpeGVkKCdDYW5jZWxBbmltYXRpb25GcmFtZScpIHx8IGdldFByZWZpeGVkKCdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSB8fCBmdW5jdGlvbiAodGltZXJJZCkge1xuXHQgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcklkKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTaGltIG9mIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHQgKlxuXHQgKiBVc2UgYHNldFRpbWVvdXRgIHRyaWNrIG9uIGJlbG93IEludGVybmV0IEV4cGxvcmVyIDhcblx0ICogQG1ldGhvZCByZXF1ZXN0QW5pbUZyYW1lXG5cdCAqIEBtZW1iZXJvZiB0dWkuYW5pbWF0aW9uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHJldHVybnMge051bWJlcn0gdGltZXIgaWRcblx0ICogQGV4YW1wbGVcblx0ICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTtcblx0ICogdmFyIHRpbWVySWQgPSBhbmltYXRpb24ucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpIHtcblx0ICogICAkKCdib3gnKS5jc3MobGVmdCwgJzEwMHB4Jyk7XG5cdCAqIH0pO1xuXHQgKi9cblx0ZnVuY3Rpb24gcmVxdWVzdEFuaW1GcmFtZShjYWxsYmFjaykge1xuXHQgICAgcmV0dXJuIHJlcXVlc3RGbihjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTaGltIG9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdCAqIEBtZXRob2QgY2FuY2VsQW5pbUZyYW1lXG5cdCAqIEBtZW1iZXJvZiB0dWkuYW5pbWF0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcklkIC0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRpbWVySWRcblx0ICogQGV4YW1wbGVcblx0ICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTtcblx0ICogdmFyIHRpbWVySWQgPSBhbmltYXRpb24ucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpIHtcblx0ICogICAkKCdib3gnKS5jc3MobGVmdCwgJzEwMHB4Jyk7XG5cdCAqIH0pO1xuXHQgKiBhbmltYXRpb24uY2FuY2VsQW5pbUZyYW1lKHRpbWVySWQpO1xuXHQgKi9cblx0ZnVuY3Rpb24gY2FuY2VsQW5pbUZyYW1lKHRpbWVySWQpIHtcblx0ICAgIGlmICghdGltZXJJZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjYW5jZWxGbih0aW1lcklkKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEdldCBhbmltYXRpb24gcnVubmVyXG5cdCAqIEBtZW1iZXJvZiB0dWkuYW5pbWF0aW9uXG5cdCAqIEBtZXRob2QgYW5pbVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcblx0ICogQHBhcmFtIHsoTnVtYmVyfE51bWJlcltdKX0gW29wdGlvbnMuZnJvbT0wXSAtIGJlZ2lubmluZyB2YWx1ZXNcblx0ICogQHBhcmFtIHsoTnVtYmVyfE51bWJlcltdKX0gW29wdGlvbnMudG89MTAwXSAtIGNoYW5nZSBpbiB2YWx1ZXNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTEwMDBdIC0gZHVyYXRpb24gKG1zKVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZWFzaW5nPSdsaW5lYXInXSAtIGVhc2luZyBmdW5jdGlvbnMge0BzZWUgZWFzaW5nfVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5mcmFtZV0gLSBpbnZva2luZyBlYWNoIGZyYW1lcy4geW91IGNhbiBtYW5pcHVsYXRlIHNwZWNpZmljIGVsZW1lbnQgYnkgdGhpcyBmdW5jdGlvblxuXHQgKiAgIHRoZSBhcmd1bWVudHMgcGFzc2VkIHdpdGggc2FtZSBzZXF1ZW5jZSB3aXRoIGBmcm9tYCwgYHRvYCBvcHRpb24gdmFsdWVzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmNvbXBsZXRlXSAtIGludm9rZWQgb25jZSBhdCBlbmQgb2YgYW5pbWF0aW9uXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGFuaW1hdGlvbiBydW5uZXJcblx0ICogQHR1dG9yaWFsIGV4YW1wbGUwMS1iYXNpYy11c2FnZVxuXHQgKiBAdHV0b3JpYWwgZXhhbXBsZTAyLTJELW1vdmVtZW50XG5cdCAqIEB0dXRvcmlhbCBleGFtcGxlMDMtdXNpbmctcHJvbWlzZVxuXHQgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Jbml0aWFsaXplIGFuZCBSdW4gYW5pbWF0aW9uIHJ1bm5lcjwvY2FwdGlvbj5cblx0ICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTtcblx0ICogdmFyIHJ1bm5lciA9IHR1aS5hbmltYXRpb24uYW5pbSh7XG5cdCAqICAgZnJvbTogWzEsIDVdLCAgLy8gaW5pdGlhbCB4LCB5IHBvc2l0aW9uXG5cdCAqICAgdG86IFsxMDAsIDUwMF0sXG5cdCAqICAgZHVyYXRpb246IDIwMDAsXG5cdCAqICAgZWFzaW5nOiAnZWFzZUluT3V0Jyxcblx0ICogICAvLyBtYW5pcHVsYXRlIHgsIHkgcG9zaXRpb25cblx0ICogICBmcmFtZTogZnVuY3Rpb24oeCwgeSkge1xuXHQgKiAgICAgJGJveC5jc3Moe1xuXHQgKiAgICAgICBsZWZ0OiB4ICsgJ3B4Jyxcblx0ICogICAgICAgdG9wOiB5ICsgJ3B4J1xuXHQgKiAgICAgfSk7XG5cdCAqICAgfSxcblx0ICogICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdCAqICAgICAkYm94LmNzcyh7XG5cdCAqICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JlZCdcblx0ICogICAgIH0pO1xuXHQgKiAgIH1cblx0ICogfSk7XG5cdCAqIFxuXHQgKiAvLyBSdW4gYW5pbWF0aW9uXG5cdCAqIHJ1bm5lci5ydW4oKTtcblx0ICogXG5cdCAqIC8vIElmIGJyb3dzZXIgc3VwcG9ydCBQcm9taXNlIHRoZW4gbWV0aG9kIGBydW4oKWAgaXMgcmV0dXJuIGl0LCBvdGhlcndpc2UgaXQgcmV0dXJuIGBudWxsYFxuXHQgKiAvLyBTbyBiZWxvdyBsaW5lIGhhcyBiZSBwb3NzaWJsZSB0aHJvdyBhbiBlcnJvcnMuIHVzZSBjYXJlZnVsbHlcblx0ICogcnVubmVyLnJ1bigpLnRoZW4oZnVuY3Rpb24oKSB7Y29uc29sZS5sb2coJ2RvbmUhJyk7fSk7XG5cdCAqL1xuXHRmdW5jdGlvbiBhbmltKCkge1xuXHQgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuXHQgICAgICAgIF9yZWYkZnJvbSA9IF9yZWYuZnJvbSxcblx0ICAgICAgICBmcm9tID0gX3JlZiRmcm9tID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRmcm9tLFxuXHQgICAgICAgIF9yZWYkdG8gPSBfcmVmLnRvLFxuXHQgICAgICAgIHRvID0gX3JlZiR0byA9PT0gdW5kZWZpbmVkID8gMTAwIDogX3JlZiR0byxcblx0ICAgICAgICBfcmVmJGR1cmF0aW9uID0gX3JlZi5kdXJhdGlvbixcblx0ICAgICAgICBkdXJhdGlvbiA9IF9yZWYkZHVyYXRpb24gPT09IHVuZGVmaW5lZCA/IDEwMDAgOiBfcmVmJGR1cmF0aW9uLFxuXHQgICAgICAgIF9yZWYkZWFzaW5nID0gX3JlZi5lYXNpbmcsXG5cdCAgICAgICAgZWFzaW5nID0gX3JlZiRlYXNpbmcgPT09IHVuZGVmaW5lZCA/ICdsaW5lYXInIDogX3JlZiRlYXNpbmcsXG5cdCAgICAgICAgX3JlZiRmcmFtZSA9IF9yZWYuZnJhbWUsXG5cdCAgICAgICAgZnJhbWUgPSBfcmVmJGZyYW1lID09PSB1bmRlZmluZWQgPyBub29wIDogX3JlZiRmcmFtZSxcblx0ICAgICAgICBfcmVmJGNvbXBsZXRlID0gX3JlZi5jb21wbGV0ZSxcblx0ICAgICAgICBjb21wbGV0ZSA9IF9yZWYkY29tcGxldGUgPT09IHVuZGVmaW5lZCA/IG5vb3AgOiBfcmVmJGNvbXBsZXRlO1xuXHRcblx0ICAgIGZyb20gPSAoMCwgX3R1aUNvZGVTbmlwcGV0LmlzQXJyYXkpKGZyb20pID8gZnJvbSA6IFtmcm9tXTtcblx0ICAgIHRvID0gKDAsIF90dWlDb2RlU25pcHBldC5pc0FycmF5KSh0bykgPyB0byA6IFt0b107XG5cdFxuXHQgICAgdmFyIHRpbWVvdXRJZCA9IDA7XG5cdCAgICB2YXIgZGlmZnMgPSAoMCwgX3R1aUNvZGVTbmlwcGV0Lm1hcCkoZnJvbSwgZnVuY3Rpb24gKHZhbCwgaWR4KSB7XG5cdCAgICAgICAgcmV0dXJuIHRvW2lkeF0gLSB2YWw7XG5cdCAgICB9KTtcblx0XG5cdCAgICBlYXNpbmcgPSBlYXNpbmdGdW5jdGlvbnNbZWFzaW5nXSB8fCBlYXNpbmdGdW5jdGlvbnMubGluZWFyO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0IGFuaW1hdGlvbiBydW5uZXIgb2JqZWN0XG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlIC0gcmVzb2x2ZSBmcm9tIHByb21pc2Vcblx0ICAgICAqIEBwYXJhbSB7RGF0ZX0gc3RhcnQgLSB0aW1lIG9mIGFuaW1hdGlvbiBzdGFydFxuXHQgICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBydW5uZXIocmVzb2x2ZSwgc3RhcnQpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGljaygpIHtcblx0ICAgICAgICAgICAgdmFyIGVsYXBzZWQgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7XG5cdCAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IE1hdGgubWluKDEsIGVsYXBzZWQgLyBkdXJhdGlvbiB8fCAwKTtcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9ICgwLCBfdHVpQ29kZVNuaXBwZXQubWFwKShmcm9tLCBmdW5jdGlvbiAodmFsLCBpZHgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBkaWZmc1tpZHhdICogZWFzaW5nKHByb2dyZXNzKSArIHZhbDtcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBmcmFtZS5hcHBseSh1bmRlZmluZWQsIF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKTtcblx0ICAgICAgICAgICAgdGltZW91dElkID0gcmVxdWVzdEFuaW1GcmFtZSh0aWNrKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSB7XG5cdCAgICAgICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcblx0ICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIWlzU3VwcG9ydFByb21pc2UpIHtcblx0ICAgICAgICAgICAgICAgIHJ1bm5lcihub29wLCBzdGFydCkoKTtcblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcnVubmVyKHJlc29sdmUsIHN0YXJ0KSgpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICAgICAgICBjYW5jZWxBbmltRnJhbWUodGltZW91dElkKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0LyoqXG5cdCAqIEBmaWxlb3ZlcnZpZXcgRWFzaW5nIGZvbXVsYXJzXG5cdCAqIEBhdXRob3IgTkhOIEVudC4gRkUgRGV2ZWxvcG1lbnQgdGVhbSA8ZGxfamF2YXNjcmlwdEBuaG5lbnQuY29tPlxuXHQgKi9cblx0XG5cdHZhciBhYnMgPSBNYXRoLmFicyxcblx0ICAgIHBvdyA9IE1hdGgucG93O1xuXHRcblx0LyoqXG5cdCAqIEBtb2R1bGUgLi9lYXNpbmdcblx0ICogQGlnbm9yZVxuXHQgKiBAZGVzY3JpcHRpb25cblx0ICogRWFzaW5nIGZvbXVsYXJzIGFyZSBiYXNlZCBvbiBHYcOrdGFuIFJlbmF1ZGVhdSBhbmQgSm9oYW4gTGluZGVsbCdzIGdpc3Rcblx0ICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ3JlLzE2NTAyOTRcblx0ICovXG5cdFxuXHQvKipcblx0ICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1pblxuXHQgKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3Jcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIF9lYXNlSW4ocCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAodCkge1xuXHQgICAgcmV0dXJuIHBvdyh0LCBwKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1vdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHAgLSBmb3IgdXNpbmcgYHBvdyhwKWAgdG8gY2FsY3VsYXRlIGFjY2VsZXJhdGUgZmFjdG9yXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdGZ1bmN0aW9uIF9lYXNlT3V0KHApIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcblx0ICAgIHJldHVybiAxIC0gYWJzKHBvdyh0IC0gMSwgcCkpO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBIaWdoIG9yZGVyIGZ1bmN0aW9uIGZvciBlYXNlLWluLW91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3Jcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0ZnVuY3Rpb24gX2Vhc2VJbk91dChwKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG5cdCAgICByZXR1cm4gdCA8IDAuNSA/IF9lYXNlSW4ocCkodCAqIDIpIC8gMiA6IF9lYXNlT3V0KHApKHQgKiAyIC0gMSkgLyAyICsgMC41O1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBubyBlYXNpbmcsIG5vIGFjY2VsZXJhdGlvblxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgbGluZWFyID0gZXhwb3J0cy5saW5lYXIgPSBfZWFzZUluT3V0KDEpO1xuXHQvKipcblx0ICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluUXVhZCA9IGV4cG9ydHMuZWFzZUluUXVhZCA9IF9lYXNlSW4oMik7XG5cdC8qKlxuXHQgKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZU91dFF1YWQgPSBleHBvcnRzLmVhc2VPdXRRdWFkID0gX2Vhc2VPdXQoMik7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dFF1YWQgPSBleHBvcnRzLmVhc2VJbk91dFF1YWQgPSBfZWFzZUluT3V0KDIpO1xuXHRcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbiA9IGV4cG9ydHMuZWFzZUluID0gZWFzZUluUXVhZDtcblx0LyoqXG5cdCAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlT3V0ID0gZXhwb3J0cy5lYXNlT3V0ID0gZWFzZU91dFF1YWQ7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dCA9IGV4cG9ydHMuZWFzZUluT3V0ID0gZWFzZUluT3V0UXVhZDtcblx0XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlSW5DdWJpYyA9IGV4cG9ydHMuZWFzZUluQ3ViaWMgPSBfZWFzZUluKDMpO1xuXHQvKipcblx0ICogZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VPdXRDdWJpYyA9IGV4cG9ydHMuZWFzZU91dEN1YmljID0gX2Vhc2VPdXQoMyk7XG5cdC8qKlxuXHQgKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJbk91dEN1YmljID0gZXhwb3J0cy5lYXNlSW5PdXRDdWJpYyA9IF9lYXNlSW5PdXQoMyk7XG5cdFxuXHQvKipcblx0ICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluUXVhcnQgPSBleHBvcnRzLmVhc2VJblF1YXJ0ID0gX2Vhc2VJbig0KTtcblx0LyoqXG5cdCAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlT3V0UXVhcnQgPSBleHBvcnRzLmVhc2VPdXRRdWFydCA9IF9lYXNlT3V0KDQpO1xuXHQvKipcblx0ICogYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG5cdCAqIEBtZXRob2Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcblx0ICovXG5cdHZhciBlYXNlSW5PdXRRdWFydCA9IGV4cG9ydHMuZWFzZUluT3V0UXVhcnQgPSBfZWFzZUluT3V0KDQpO1xuXHRcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0ICogQG1ldGhvZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcblx0ICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuXHQgKi9cblx0dmFyIGVhc2VJblF1aW50ID0gZXhwb3J0cy5lYXNlSW5RdWludCA9IF9lYXNlSW4oNSk7XG5cdC8qKlxuXHQgKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZU91dFF1aW50ID0gZXhwb3J0cy5lYXNlT3V0UXVpbnQgPSBfZWFzZU91dCg1KTtcblx0LyoqXG5cdCAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHQgKiBAbWV0aG9kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG5cdCAqL1xuXHR2YXIgZWFzZUluT3V0UXVpbnQgPSBleHBvcnRzLmVhc2VJbk91dFF1aW50ID0gX2Vhc2VJbk91dCg1KTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdHVpLWFuaW1hdGlvbi5taW4uanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJkaXN0XCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgY2JjZTA0NGNmNGRjNWFiZWVkZTMiLCIvKipcbiAqIEBuYW1lc3BhY2UgdHVpLmFuaW1hdGlvblxuICogQGRlc2NyaXB0aW9uIEFuaW1hdGlvbiBsaWJyYXJ5XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5HZXQgTW9kdWxlPC9jYXB0aW9uPlxuICogdmFyIGFuaW1hdGlvbiA9IHJlcXVpcmUoJ3R1aS1hbmltYXRpb24nKTsgLy8gY29tbW9uanMgdHlwZVxuICogdmFyIGFuaW1hdGlvbiA9IHR1aS5hbmltYXRpb247IC8vIHdoZW4gdXNpbmcgYnVuZGxlIGZpbGVcbiAqIHZhciBydW5uZXIgPSBhbmltYXRpb24uYW5pbSh7Li4ufSk7XG4gKiB9KTtcbiAqL1xuaW1wb3J0ICogYXMgYW5pbWF0aW9uIGZyb20gJy4vYW5pbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1hdGlvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9pbmRleC5qcyIsIi8qKlxuICogQGZpbGVvdmVydmlldyBNb2R1bGUgZm9yIGFuaW1hdGlvbnNcbiAqIEBhdXRob3IgTkhOIEVudC4gRkUgRGV2ZWxvcG1lbnQgdGVhbSA8ZGxfamF2YXNjcmlwdEBuaG5lbnQuY29tPlxuICovXG5cbi8qKlxuICogQG1vZHVsZSAuL2FuaW1cbiAqIEBpZ25vcmVcbiAqIEBkZXNjcmlwdGlvbiBDb3JlIG1vZHVsZSBmb3IgYW5pbWF0aW9uXG4gKi9cblxuaW1wb3J0ICogYXMgZWFzaW5nRnVuY3Rpb25zIGZyb20gJy4vZWFzaW5nJztcbmltcG9ydCB7aXNBcnJheSwgbWFwfSBmcm9tICd0dWktY29kZS1zbmlwcGV0JztcblxuY29uc3QgaXNTdXBwb3J0UHJvbWlzZSA9ICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgKC9cXFtuYXRpdmUgY29kZVxcXS8udGVzdChQcm9taXNlLnRvU3RyaW5nKCkpKTtcblxuLyoqIERvIG5vdGhpbmcgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKipcbiAqIEdldCBuYW1lIHdpdGggdmVuZG9yIHByZWZpeFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBuYW1lIHRvIHByZXBlbmQgcHJlZml4XG4gKiBAcmV0dXJucyB7U3RyaW5nfSB2ZW5kb3IgcHJlZml4ZWQgbmFtZVxuICovXG5mdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7XG4gICAgcmV0dXJuIHdpbmRvd1tgd2Via2l0JHtuYW1lfWBdIHx8IHdpbmRvd1tgbW96JHtuYW1lfWBdIHx8IHdpbmRvd1tgbXMke25hbWV9YF07XG59XG5cbmNvbnN0IHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICBnZXRQcmVmaXhlZCgnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHxcbiAgICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgfTtcblxuY29uc3QgY2FuY2VsRm4gPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICBnZXRQcmVmaXhlZCgnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnKSB8fFxuICAgIGdldFByZWZpeGVkKCdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSB8fFxuICAgIGZ1bmN0aW9uKHRpbWVySWQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9O1xuXG4vKipcbiAqIFNoaW0gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gKlxuICogVXNlIGBzZXRUaW1lb3V0YCB0cmljayBvbiBiZWxvdyBJbnRlcm5ldCBFeHBsb3JlciA4XG4gKiBAbWV0aG9kIHJlcXVlc3RBbmltRnJhbWVcbiAqIEBtZW1iZXJvZiB0dWkuYW5pbWF0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aW1lciBpZFxuICogQGV4YW1wbGVcbiAqIHZhciBhbmltYXRpb24gPSByZXF1aXJlKCd0dWktYW5pbWF0aW9uJyk7XG4gKiB2YXIgdGltZXJJZCA9IGFuaW1hdGlvbi5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCkge1xuICogICAkKCdib3gnKS5jc3MobGVmdCwgJzEwMHB4Jyk7XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RBbmltRnJhbWUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gcmVxdWVzdEZuKGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBTaGltIG9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gKiBAbWV0aG9kIGNhbmNlbEFuaW1GcmFtZVxuICogQG1lbWJlcm9mIHR1aS5hbmltYXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcklkIC0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRpbWVySWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgYW5pbWF0aW9uID0gcmVxdWlyZSgndHVpLWFuaW1hdGlvbicpO1xuICogdmFyIHRpbWVySWQgPSBhbmltYXRpb24ucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpIHtcbiAqICAgJCgnYm94JykuY3NzKGxlZnQsICcxMDBweCcpO1xuICogfSk7XG4gKiBhbmltYXRpb24uY2FuY2VsQW5pbUZyYW1lKHRpbWVySWQpO1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsQW5pbUZyYW1lKHRpbWVySWQpIHtcbiAgICBpZiAoIXRpbWVySWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbmNlbEZuKHRpbWVySWQpO1xufVxuXG4vKipcbiAqIEdldCBhbmltYXRpb24gcnVubmVyXG4gKiBAbWVtYmVyb2YgdHVpLmFuaW1hdGlvblxuICogQG1ldGhvZCBhbmltXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7KE51bWJlcnxOdW1iZXJbXSl9IFtvcHRpb25zLmZyb209MF0gLSBiZWdpbm5pbmcgdmFsdWVzXG4gKiBAcGFyYW0geyhOdW1iZXJ8TnVtYmVyW10pfSBbb3B0aW9ucy50bz0xMDBdIC0gY2hhbmdlIGluIHZhbHVlc1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTEwMDBdIC0gZHVyYXRpb24gKG1zKVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmVhc2luZz0nbGluZWFyJ10gLSBlYXNpbmcgZnVuY3Rpb25zIHtAc2VlIGVhc2luZ31cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZyYW1lXSAtIGludm9raW5nIGVhY2ggZnJhbWVzLiB5b3UgY2FuIG1hbmlwdWxhdGUgc3BlY2lmaWMgZWxlbWVudCBieSB0aGlzIGZ1bmN0aW9uXG4gKiAgIHRoZSBhcmd1bWVudHMgcGFzc2VkIHdpdGggc2FtZSBzZXF1ZW5jZSB3aXRoIGBmcm9tYCwgYHRvYCBvcHRpb24gdmFsdWVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5jb21wbGV0ZV0gLSBpbnZva2VkIG9uY2UgYXQgZW5kIG9mIGFuaW1hdGlvblxuICogQHJldHVybnMge09iamVjdH0gYW5pbWF0aW9uIHJ1bm5lclxuICogQHR1dG9yaWFsIGV4YW1wbGUwMS1iYXNpYy11c2FnZVxuICogQHR1dG9yaWFsIGV4YW1wbGUwMi0yRC1tb3ZlbWVudFxuICogQHR1dG9yaWFsIGV4YW1wbGUwMy11c2luZy1wcm9taXNlXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Jbml0aWFsaXplIGFuZCBSdW4gYW5pbWF0aW9uIHJ1bm5lcjwvY2FwdGlvbj5cbiAqIHZhciBhbmltYXRpb24gPSByZXF1aXJlKCd0dWktYW5pbWF0aW9uJyk7XG4gKiB2YXIgcnVubmVyID0gdHVpLmFuaW1hdGlvbi5hbmltKHtcbiAqICAgZnJvbTogWzEsIDVdLCAgLy8gaW5pdGlhbCB4LCB5IHBvc2l0aW9uXG4gKiAgIHRvOiBbMTAwLCA1MDBdLFxuICogICBkdXJhdGlvbjogMjAwMCxcbiAqICAgZWFzaW5nOiAnZWFzZUluT3V0JyxcbiAqICAgLy8gbWFuaXB1bGF0ZSB4LCB5IHBvc2l0aW9uXG4gKiAgIGZyYW1lOiBmdW5jdGlvbih4LCB5KSB7XG4gKiAgICAgJGJveC5jc3Moe1xuICogICAgICAgbGVmdDogeCArICdweCcsXG4gKiAgICAgICB0b3A6IHkgKyAncHgnXG4gKiAgICAgfSk7XG4gKiAgIH0sXG4gKiAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAqICAgICAkYm94LmNzcyh7XG4gKiAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZWQnXG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqIH0pO1xuICogXG4gKiAvLyBSdW4gYW5pbWF0aW9uXG4gKiBydW5uZXIucnVuKCk7XG4gKiBcbiAqIC8vIElmIGJyb3dzZXIgc3VwcG9ydCBQcm9taXNlIHRoZW4gbWV0aG9kIGBydW4oKWAgaXMgcmV0dXJuIGl0LCBvdGhlcndpc2UgaXQgcmV0dXJuIGBudWxsYFxuICogLy8gU28gYmVsb3cgbGluZSBoYXMgYmUgcG9zc2libGUgdGhyb3cgYW4gZXJyb3JzLiB1c2UgY2FyZWZ1bGx5XG4gKiBydW5uZXIucnVuKCkudGhlbihmdW5jdGlvbigpIHtjb25zb2xlLmxvZygnZG9uZSEnKTt9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuaW0oe1xuICAgIGZyb20gPSAwLFxuICAgIHRvID0gMTAwLFxuICAgIGR1cmF0aW9uID0gMTAwMCxcbiAgICBlYXNpbmcgPSAnbGluZWFyJyxcbiAgICBmcmFtZSA9IG5vb3AsXG4gICAgY29tcGxldGUgPSBub29wXG59ID0ge30pIHtcbiAgICBmcm9tID0gaXNBcnJheShmcm9tKSA/IGZyb20gOiBbZnJvbV07XG4gICAgdG8gPSBpc0FycmF5KHRvKSA/IHRvIDogW3RvXTtcblxuICAgIGxldCB0aW1lb3V0SWQgPSAwO1xuICAgIGNvbnN0IGRpZmZzID0gbWFwKGZyb20sICh2YWwsIGlkeCkgPT4gdG9baWR4XSAtIHZhbCk7XG5cbiAgICBlYXNpbmcgPSBlYXNpbmdGdW5jdGlvbnNbZWFzaW5nXSB8fCBlYXNpbmdGdW5jdGlvbnMubGluZWFyO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGFuaW1hdGlvbiBydW5uZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZSAtIHJlc29sdmUgZnJvbSBwcm9taXNlXG4gICAgICogQHBhcmFtIHtEYXRlfSBzdGFydCAtIHRpbWUgb2YgYW5pbWF0aW9uIHN0YXJ0XG4gICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJ1bm5lcihyZXNvbHZlLCBzdGFydCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSAobmV3IERhdGUoKSkgLSBzdGFydDtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oMSwgKGVsYXBzZWQgLyBkdXJhdGlvbikgfHwgMCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBtYXAoZnJvbSwgKHZhbCwgaWR4KSA9PiAoZGlmZnNbaWR4XSAqIGVhc2luZyhwcm9ncmVzcykpICsgdmFsKTtcblxuICAgICAgICAgICAgZnJhbWUoLi4udmFsdWVzKTtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHJlcXVlc3RBbmltRnJhbWUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSAxKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbUZyYW1lKHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAoIWlzU3VwcG9ydFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBydW5uZXIobm9vcCwgc3RhcnQpKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcnVubmVyKHJlc29sdmUsIHN0YXJ0KSgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbUZyYW1lKHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2FuaW0uanMiLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgRWFzaW5nIGZvbXVsYXJzXG4gKiBAYXV0aG9yIE5ITiBFbnQuIEZFIERldmVsb3BtZW50IHRlYW0gPGRsX2phdmFzY3JpcHRAbmhuZW50LmNvbT5cbiAqL1xuXG5jb25zdCB7YWJzLCBwb3d9ID0gTWF0aDtcblxuLyoqXG4gKiBAbW9kdWxlIC4vZWFzaW5nXG4gKiBAaWdub3JlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVhc2luZyBmb211bGFycyBhcmUgYmFzZWQgb24gR2HDq3RhbiBSZW5hdWRlYXUgYW5kIEpvaGFuIExpbmRlbGwncyBnaXN0XG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuICovXG5cbi8qKlxuICogSGlnaCBvcmRlciBmdW5jdGlvbiBmb3IgZWFzZS1pblxuICogQHBhcmFtIHtOdW1iZXJ9IHAgLSBmb3IgdXNpbmcgYHBvdyhwKWAgdG8gY2FsY3VsYXRlIGFjY2VsZXJhdGUgZmFjdG9yXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIF9lYXNlSW4ocCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBwb3codCwgcCk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBIaWdoIG9yZGVyIGZ1bmN0aW9uIGZvciBlYXNlLW91dFxuICogQHBhcmFtIHtOdW1iZXJ9IHAgLSBmb3IgdXNpbmcgYHBvdyhwKWAgdG8gY2FsY3VsYXRlIGFjY2VsZXJhdGUgZmFjdG9yXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIF9lYXNlT3V0KHApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gMSAtIGFicyhwb3codCAtIDEsIHApKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEhpZ2ggb3JkZXIgZnVuY3Rpb24gZm9yIGVhc2UtaW4tb3V0XG4gKiBAcGFyYW0ge051bWJlcn0gcCAtIGZvciB1c2luZyBgcG93KHApYCB0byBjYWxjdWxhdGUgYWNjZWxlcmF0ZSBmYWN0b3JcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gX2Vhc2VJbk91dChwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPCAwLjUgPyBfZWFzZUluKHApKHQgKiAyKSAvIDIgOiAoX2Vhc2VPdXQocCkoKHQgKiAyKSAtIDEpIC8gMikgKyAwLjU7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBubyBlYXNpbmcsIG5vIGFjY2VsZXJhdGlvblxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBsaW5lYXIgPSBfZWFzZUluT3V0KDEpO1xuLyoqXG4gKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJblF1YWQgPSBfZWFzZUluKDIpO1xuLyoqXG4gKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlT3V0UXVhZCA9IF9lYXNlT3V0KDIpO1xuLyoqXG4gKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluT3V0UXVhZCA9IF9lYXNlSW5PdXQoMik7XG5cbi8qKlxuICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW4gPSBlYXNlSW5RdWFkO1xuLyoqXG4gKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlT3V0ID0gZWFzZU91dFF1YWQ7XG4vKipcbiAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXQgPSBlYXNlSW5PdXRRdWFkO1xuXG4vKipcbiAqIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluQ3ViaWMgPSBfZWFzZUluKDMpO1xuLyoqXG4gKiBkZWNlbGVyYXRpbmcgdG8gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlT3V0Q3ViaWMgPSBfZWFzZU91dCgzKTtcbi8qKlxuICogYWNjZWxlcmF0aW9uIHVudGlsIGhhbGZ3YXksIHRoZW4gZGVjZWxlcmF0aW9uXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJbk91dEN1YmljID0gX2Vhc2VJbk91dCgzKTtcblxuLyoqXG4gKiBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VJblF1YXJ0ID0gX2Vhc2VJbig0KTtcbi8qKlxuICogZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZU91dFF1YXJ0ID0gX2Vhc2VPdXQoNCk7XG4vKipcbiAqIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRRdWFydCA9IF9lYXNlSW5PdXQoNCk7XG5cbi8qKlxuICogYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuICogQG1ldGhvZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgLSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgfiAxXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBjYWxjdWxhdGVkIGRlbHRhIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBlYXNlSW5RdWludCA9IF9lYXNlSW4oNSk7XG4vKipcbiAqIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge051bWJlcn0gdCAtIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCB+IDFcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGNhbGN1bGF0ZWQgZGVsdGEgdmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IGVhc2VPdXRRdWludCA9IF9lYXNlT3V0KDUpO1xuLyoqXG4gKiBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IC0gcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIH4gMVxuICogQHJldHVybnMge051bWJlcn0gY2FsY3VsYXRlZCBkZWx0YSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgZWFzZUluT3V0UXVpbnQgPSBfZWFzZUluT3V0KDUpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2Vhc2luZy5qcyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInR1aS1jb2RlLXNuaXBwZXRcIixcImNvbW1vbmpzMlwiOlwidHVpLWNvZGUtc25pcHBldFwiLFwiYW1kXCI6XCJ0dWktY29kZS1zbmlwcGV0XCIsXCJyb290XCI6W1widHVpXCIsXCJ1dGlsXCJdfVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9